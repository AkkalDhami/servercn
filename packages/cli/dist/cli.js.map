{"version":3,"sources":["../src/cli.ts","../src/commands/add.ts","../src/lib/paths.ts","../src/lib/copy.ts","../src/utils/cli-colors.ts","../src/utils/cli-logger.ts","../src/lib/registry.ts","../src/lib/architecture.ts","../src/lib/install-deps.ts","../src/lib/detect.ts","../src/lib/env.ts","../src/lib/package.ts","../src/lib/prompts.ts","../src/lib/assert-initialized.ts","../src/constants/app-constants.ts","../src/lib/config.ts","../src/commands/init.ts","../src/lib/registry-list.ts","../src/lib/group-by-category.ts","../src/commands/list.ts"],"sourcesContent":["#!/usr/bin/env node\n\nimport { Command } from \"commander\";\nimport { add } from \"./commands/add\";\nimport { init } from \"./commands/init\";\nimport { list } from \"./commands/list\";\n\nconst program = new Command();\n\nprocess.on(\"SIGINT\", () => process.exit(0));\nprocess.on(\"SIGTERM\", () => process.exit(0));\n\nasync function main() {\n  program.name(\"servercn\").description(\"Backend components for Node.js\").version(\"0.0.1\");\n\n  program.command(\"init [foundation]\").description(\"Initialize ServerCN in your project\").action(init);\n\n  program.command(\"list\").description(\"List available ServerCN components\").action(list);\n\n  program\n    .command(\"add <components...>\")\n    .description(\"Add a backend component\")\n    .option(\"--arch <arch>\", \"Architecture (mvc | feature)\", \"mvc\")\n    .option(\"-f, --force\", \"Overwrite existing files\")\n    .action(async (components, options) => {\n      for (const component of components) {\n        await add(component, {\n          arch: options.arch\n        });\n      }\n    });\n\n  program.parse(process.argv);\n}\n\nmain().catch(err => {\n  console.error(err);\n  process.exit(1);\n});\n","import path from \"path\";\nimport prompts from \"prompts\";\n\nimport { getTemplatesPath } from \"../lib/paths\";\nimport { copyTemplate } from \"../lib/copy\";\nimport { getRegistryComponent } from \"../lib/registry\";\nimport { resolveTargetDir } from \"../lib/architecture\";\nimport { installDependencies } from \"../lib/install-deps\";\nimport { updateEnvExample } from \"../lib/env\";\nimport { ensurePackageJson, ensureTsConfig } from \"../lib/package\";\nimport { askFolderName, getDefaultFolderName } from \"../lib/prompts\";\nimport { logger } from \"../utils/cli-logger\";\nimport { assertInitialized } from \"../lib/assert-initialized\";\nimport { getServerCNConfig } from \"../lib/config\";\nimport type { AddOptions } from \"../types\";\n\nexport async function add(componentName: string, options: AddOptions = {}) {\n  await assertInitialized();\n\n  const config = await getServerCNConfig();\n\n  const component = await getRegistryComponent(componentName, \"component\");\n\n  if (!component.stacks.includes(config.stack.framework)) {\n    logger.error(`Component \"${componentName}\" does not support \"${config.stack.framework}\"`);\n    process.exit(1);\n  }\n\n  const stack = config.stack.framework;\n  const arch = config.stack.architecture;\n\n  const defaultFolder = getDefaultFolderName(component);\n  const folderName = await askFolderName(defaultFolder);\n  const targetDir = resolveTargetDir(folderName, arch);\n\n  let templateDir: string;\n  let runtimeDeps: string[] | undefined;\n  const devDeps = component.dependencies?.dev;\n\n  if (component.algorithms) {\n    const choices = Object.entries(component.algorithms).map(([key, value]: any) => ({\n      title: value.title,\n      value: key\n    }));\n\n    const { algorithm } = await prompts({\n      type: \"select\",\n      name: \"algorithm\",\n      message: \"Select implementation\",\n      choices\n    });\n\n    if (!algorithm) {\n      logger.warn(\"Operation cancelled\");\n      return;\n    }\n\n    const algoConfig = component.algorithms[algorithm];\n\n    const selectedTemplate = algoConfig.templates?.[arch] ?? algoConfig.templates?.base;\n\n    if (!selectedTemplate) {\n      logger.error(`Architecture \"${arch}\" is not supported for \"${component.name}\"`);\n      process.exit(1);\n    }\n\n    templateDir = path.resolve(getTemplatesPath(), selectedTemplate);\n    runtimeDeps = algoConfig.dependencies?.runtime;\n\n    logger.info(`Using algorithm: ${algoConfig.title}`);\n  } else {\n    const templateConfig = component.templates?.[stack];\n\n    if (!templateConfig) {\n      logger.error(`Stack \"${stack}\" is not supported by \"${component.name}\"`);\n      process.exit(1);\n    }\n\n    const selectedTemplate = typeof templateConfig === \"string\" ? templateConfig : (templateConfig[arch] ?? templateConfig.base);\n\n    if (!selectedTemplate) {\n      logger.error(`Architecture \"${arch}\" is not supported by \"${component.name}\"`);\n      process.exit(1);\n    }\n\n    templateDir = path.resolve(getTemplatesPath(), selectedTemplate);\n    runtimeDeps = component.dependencies?.runtime;\n  }\n\n  await copyTemplate({\n    templateDir,\n    targetDir,\n    componentName,\n    conflict: options.force ? \"overwrite\" : \"skip\",\n    dryRun: options.dryRun\n  });\n\n  ensurePackageJson(process.cwd());\n  ensureTsConfig(process.cwd());\n\n  await installDependencies({\n    runtime: runtimeDeps,\n    dev: devDeps,\n    cwd: process.cwd()\n  });\n\n  if (component.env?.length) {\n    updateEnvExample(component.env, process.cwd());\n  }\n\n  logger.success(`\\n${component.title} added successfully\\n`);\n}\n","import path from \"path\";\nimport { fileURLToPath } from \"url\";\nimport type { ItemType } from \"../types\";\n\nconst __filename = fileURLToPath(import.meta.url);\nconst __dirname = path.dirname(__filename);\n\n/**\n * Root of the installed servercn package\n * dist/lib → dist → cli → packages → servercn\n */\nexport function getServercnRoot() {\n  return path.resolve(__dirname, \"../../..\");\n}\n\nexport function getRegistryPath(folder: ItemType) {\n  const folderName = folder ? `/${folder}s` : \"\";\n\n  return path.join(getServercnRoot(), `packages/registry${folderName}`);\n}\n\nexport function getTemplatesPath() {\n  return path.join(getServercnRoot(), `packages/templates/`);\n}\n","import fs from \"fs-extra\";\nimport path from \"path\";\nimport { logger } from \"../utils/cli-logger\";\nimport type { CopyOptions } from \"../types\";\n\nexport type ConflictStrategy = \"skip\" | \"overwrite\" | \"error\";\n\nexport async function copyTemplate({ templateDir, targetDir, componentName, conflict = \"skip\", dryRun = false }: CopyOptions) {\n  if (!(await fs.pathExists(templateDir))) {\n    logger.error(`Template not found: ${templateDir}`);\n    process.exit(1);\n  }\n\n  await fs.ensureDir(targetDir);\n\n  const entries = await fs.readdir(templateDir, { withFileTypes: true });\n\n  for (const entry of entries) {\n    const srcPath = path.join(templateDir, entry.name);\n\n    let rawName = entry.name === \"_gitignore\" ? \".gitignore\" : entry.name;\n\n    let finalName = rawName;\n\n    const destPath = path.join(targetDir, finalName);\n\n    if (entry.isDirectory()) {\n      await copyTemplate({\n        templateDir: srcPath,\n        targetDir: destPath,\n        componentName,\n        conflict,\n        dryRun\n      });\n      continue;\n    }\n\n    const exists = await fs.pathExists(destPath);\n\n    if (exists) {\n      if (conflict === \"skip\") {\n        logger.warn(`Skipped: ${destPath}`);\n        continue;\n      }\n      if (conflict === \"error\") {\n        throw new Error(`File already exists: ${destPath}`);\n      }\n    }\n\n    if (dryRun) {\n      logger.info(`[dry-run] ${exists ? \"Overwrite\" : \"Create\"}: ${destPath}`);\n      continue;\n    }\n\n    const buffer = await fs.readFile(srcPath);\n    const isBinary = buffer.includes(0);\n\n    await fs.ensureDir(path.dirname(destPath));\n\n    if (isBinary) {\n      await fs.copyFile(srcPath, destPath);\n    } else {\n      let content = buffer.toString(\"utf8\");\n\n      await fs.writeFile(destPath, content);\n    }\n\n    logger.created(exists ? `Overwritten: ${destPath}` : `: ${destPath}`);\n  }\n}\n","import kleur from \"kleur\";\n\nexport const colors = {\n  error: kleur.red,\n  warn: kleur.yellow,\n  info: kleur.cyan,\n  success: kleur.green,\n  muted: kleur.gray,\n  created: kleur.magenta\n};\n","import { colors } from \"./cli-colors\";\n\nconst icons = {\n  error: \"✖\",\n  warn: \"⚠\",\n  info: \"ℹ\",\n  success: \"✔\"\n};\n\nexport const logger = {\n  error(...args: unknown[]) {\n    console.log(colors.error(`${args.join(\" \")}`));\n  },\n\n  warn(...args: unknown[]) {\n    console.log(colors.warn(`${args.join(\" \")}`));\n  },\n\n  info(...args: unknown[]) {\n    console.log(colors.info(`${args.join(\" \")}`));\n  },\n\n  success(...args: unknown[]) {\n    console.log(colors.success(`${args.join(\" \")}`));\n  },\n\n  log(...args: unknown[]) {\n    console.log(args.join(\" \"));\n  },\n\n  created(...args: unknown[]) {\n    console.log(colors.created(`✔ Created ${args.join(\" \")}`));\n  },\n\n  break() {\n    console.log(\"\");\n  }\n};\n","import fs from \"fs-extra\";\nimport path from \"path\";\nimport { getRegistryPath } from \"./paths.js\";\nimport { logger } from \"../utils/cli-logger.js\";\nimport type { ItemType } from \"../types/index.js\";\n\nexport async function getRegistryComponent(name: string, type: ItemType) {\n  const registryPath = getRegistryPath(type);\n  const filePath = path.join(registryPath, `${name}.json`);\n\n  if (!(await fs.pathExists(filePath))) {\n    logger.error(`Component \"${name}\" not found`);\n    process.exit(1);\n  }\n\n  return fs.readJSON(filePath);\n}\n","import path from \"node:path\";\n\nexport function resolveTargetDir(folderName: string, arch: string) {\n  const cwd = process.cwd();\n\n  switch (arch) {\n    case \"mvc\":\n      return path.join(cwd, folderName);\n\n    case \"feature\":\n      return path.join(cwd, folderName);\n\n    case \"clean\":\n      return path.join(cwd, folderName);\n\n    default:\n      return cwd;\n  }\n}\n","import { execa } from \"execa\";\nimport { detectPackageManager } from \"./detect\";\nimport { logger } from \"../utils/cli-logger\";\nimport type { InstallOptions } from \"../types\";\n\nexport async function installDependencies({ runtime = [], dev = [], cwd }: InstallOptions) {\n  if (!runtime.length && !dev.length) return;\n\n  const pm = detectPackageManager();\n\n  const run = async (args: string[]) => {\n    logger.info(`Installing dependencies: ${args.join(\" \")}`);\n    await execa(pm, args, {\n      cwd,\n      stdio: \"inherit\"\n    });\n  };\n\n  if (runtime.length) {\n    await run(getInstallArgs(pm, runtime, false));\n  }\n\n  if (dev.length) {\n    await run(getInstallArgs(pm, dev, true));\n  }\n}\n\nfunction getInstallArgs(pm: string, packages: string[], isDev: boolean): string[] {\n  switch (pm) {\n    case \"pnpm\":\n      return [\"add\", ...(isDev ? [\"-D\"] : []), ...packages];\n\n    case \"yarn\":\n      return [\"add\", ...(isDev ? [\"-D\"] : []), ...packages];\n\n    case \"bun\":\n      return [\"add\", ...(isDev ? [\"-d\"] : []), ...packages];\n\n    case \"npm\":\n    default:\n      return [\"install\", ...(isDev ? [\"--save-dev\"] : []), ...packages];\n  }\n}\n","import fs from \"node:fs\";\nimport path from \"node:path\";\nimport type { PackageManager } from \"../types\";\n\nexport function detectPackageManager(cwd = process.cwd()): PackageManager {\n  if (fs.existsSync(path.join(cwd, \"pnpm-lock.yaml\"))) return \"pnpm\";\n  if (fs.existsSync(path.join(cwd, \"yarn.lock\"))) return \"yarn\";\n  if (fs.existsSync(path.join(cwd, \"bun.lockb\"))) return \"bun\";\n  return \"npm\";\n}\n\nexport function detectLanguage() {\n  return fs.existsSync(\"tsconfig.json\") ? \"ts\" : \"js\";\n}\n","import fs from \"node:fs\";\nimport path from \"node:path\";\nimport { logger } from \"../utils/cli-logger\";\n\nexport function updateEnvExample(envKeys: string[] = [], cwd = process.cwd()) {\n  if (!envKeys.length) return;\n\n  const envExamplePath = path.join(cwd, \".env.example\");\n\n  const existing = fs.existsSync(envExamplePath) ? fs.readFileSync(envExamplePath, \"utf8\") : \"\";\n\n  const existingKeys = new Set(\n    existing\n      .split(\"\\n\")\n      .map(line => line.split(\"=\")[0]?.trim())\n      .filter(Boolean)\n  );\n\n  const newLines = envKeys.filter(key => !existingKeys.has(key)).map(key => `${key}=`);\n\n  if (!newLines.length) return;\n\n  const content = existing.trim().length > 0 ? `${existing.trim()}\\n\\n${newLines.join(\"\\n\")}\\n` : `${newLines.join(\"\\n\")}\\n`;\n\n  fs.writeFileSync(envExamplePath, content, \"utf8\");\n\n  logger.success(`Updated .env.example`);\n}\n","import fs from \"fs\";\nimport path from \"path\";\nimport { execSync } from \"child_process\";\nimport { logger } from \"../utils/cli-logger\";\n\nexport function ensurePackageJson(dir: string) {\n  const pkgPath = path.join(dir, \"package.json\");\n\n  if (fs.existsSync(pkgPath)) return;\n\n  logger.info(\"Initializing package.json\");\n\n  execSync(\"npm init -y\", {\n    cwd: dir,\n    stdio: \"ignore\"\n  });\n}\n\nexport function ensureTsConfig(dir: string) {\n  const tsconfigPath = path.join(dir, \"tsconfig.json\");\n\n  if (fs.existsSync(tsconfigPath)) return;\n\n  const tsconfig = {\n    compilerOptions: {\n      target: \"ES2021\",\n      module: \"NodeNext\",\n      moduleResolution: \"NodeNext\",\n      strict: true,\n      esModuleInterop: true,\n      skipLibCheck: true,\n      outDir: \"dist\",\n      rootDir: \"src\"\n    },\n    include: [\"src\"]\n  };\n\n  fs.writeFileSync(tsconfigPath, JSON.stringify(tsconfig, null, 2));\n}\n","import prompts from \"prompts\";\n\nexport async function askFolderName(defaultName: string) {\n  const { folder } = await prompts({\n    type: \"text\",\n    name: \"folder\",\n    message: \"Where should this component be added?\",\n    initial: \".\",\n    format: val => val.trim() || \".\"\n  });\n\n  return folder || defaultName;\n}\nexport function getDefaultFolderName(component: { category?: string; name: string }) {\n  return component.name;\n}\n","import fs from \"fs-extra\";\nimport path from \"path\";\nimport { logger } from \"../utils/cli-logger\";\nimport { SERVERCN_CONFIG_FILE } from \"../constants/app-constants\";\n\nexport async function assertInitialized() {\n  const configPath = path.resolve(process.cwd(), SERVERCN_CONFIG_FILE);\n\n  if (!(await fs.pathExists(configPath))) {\n    logger.error(\"ServerCN is not initialized in this project.\");\n    logger.info(\"Run the following command first:\");\n    logger.info(\"  npx servercn init\");\n    process.exit(1);\n  }\n}\n","export const SERVERCN_CONFIG_FILE = \"servercn.json\" as const;\n","import fs from \"fs-extra\";\nimport path from \"node:path\";\nimport { logger } from \"../utils/cli-logger\";\nimport type { ServerCNConfig } from \"../types\";\nimport { SERVERCN_CONFIG_FILE } from \"../constants/app-constants\";\n\nexport async function getServerCNConfig(): Promise<ServerCNConfig> {\n  const cwd = process.cwd();\n  const configPath = path.resolve(cwd, SERVERCN_CONFIG_FILE);\n\n  if (!(await fs.pathExists(configPath))) {\n    logger.warn(\"ServerCN is not initialized. Run `servercn init` first.\");\n    process.exit(1);\n  }\n\n  return fs.readJSON(configPath);\n}\n","import fs from \"fs-extra\";\nimport path from \"path\";\nimport prompts from \"prompts\";\nimport { logger } from \"../utils/cli-logger\";\nimport { SERVERCN_CONFIG_FILE } from \"../constants/app-constants\";\nimport { getRegistryComponent } from \"../lib/registry\";\nimport { getTemplatesPath } from \"../lib/paths\";\nimport { copyTemplate } from \"../lib/copy\";\nimport { installDependencies } from \"../lib/install-deps\";\n\nexport async function init(foundation?: string) {\n  const cwd = process.cwd();\n  const configPath = path.join(cwd, SERVERCN_CONFIG_FILE);\n\n  if ((await fs.pathExists(configPath)) && !foundation) {\n    logger.warn(\"ServerCN is already initialized in this project.\");\n    logger.info(\"You can now run: servercn add <component>\");\n    process.exit(1);\n  }\n\n  if (foundation) {\n    const response = await prompts([\n      {\n        type: \"text\",\n        name: \"root\",\n        message: \"Project root directory\",\n        initial: \".\",\n        format: val => val.trim() || \".\"\n      },\n      {\n        type: \"select\",\n        name: \"architecture\",\n        message: \"Select architecture\",\n        choices: [\n          { title: \"MVC (controllers, services, models)\", value: \"mvc\" },\n          { title: \"Feature-based (domain-driven modules)\", value: \"feature\" }\n        ]\n      }\n    ]);\n\n    const rootPath = path.resolve(cwd, response.root);\n\n    await fs.ensureDir(rootPath);\n\n    if (!fs.pathExistsSync(rootPath)) {\n      logger.error(`Failed to create project directory: ${rootPath}`);\n      process.exit(1);\n    }\n\n    logger.info(`Initializing with foundation: ${foundation}`);\n    try {\n      const component = await getRegistryComponent(foundation, \"foundation\");\n\n      const config = {\n        $schema: \"https://servercn.dev/schema/v1.json\",\n        version: \"1.0.0\",\n\n        project: {\n          root: response.root,\n          srcDir: \"src\",\n          type: \"backend\",\n          packageManager: \"npm\"\n        },\n\n        stack: {\n          runtime: \"node\",\n          language: \"typescript\",\n          framework: \"express\",\n          architecture: response.architecture\n        },\n\n        database: null,\n\n        overrides: {},\n\n        meta: {\n          createdAt: new Date().toISOString(),\n          createdBy: \"servercn@1.0.0\"\n        }\n      };\n\n      const tsConfig = {\n        compilerOptions: {\n          target: \"ES2021\",\n          module: \"es2022\",\n          moduleResolution: \"bundler\",\n          strict: true,\n          esModuleInterop: true,\n          skipLibCheck: true,\n          outDir: \"dist\",\n          rootDir: \"src\"\n        },\n        include: [\"src/**/*\"],\n        exclude: [\"node_modules\"]\n      };\n\n      const prettierConfig = {\n        singleQuote: false,\n        semi: true,\n        tabWidth: 2,\n        printWidth: 150,\n        trailingComma: \"none\",\n        bracketSameLine: false,\n        arrowParens: \"avoid\",\n        endOfLine: \"lf\"\n      };\n\n      const commitlintConfig = {\n        extends: [\"@commitlint/config-conventional\"],\n        rules: {\n          \"type-enum\": [\n            2,\n            \"always\",\n            [\"feat\", \"fix\", \"docs\", \"style\", \"refactor\", \"test\", \"chore\", \"ci\", \"perf\", \"build\", \"release\", \"workflow\", \"security\"]\n          ],\n\n          \"subject-case\": [2, \"always\", [\"lower-case\"]]\n        }\n      };\n\n      await fs.writeJson(path.join(rootPath, SERVERCN_CONFIG_FILE), config, {\n        spaces: 2\n      });\n\n      await fs.writeJson(path.join(rootPath, \".prettierrc\"), prettierConfig, {\n        spaces: 2\n      });\n\n      await fs.writeFile(path.join(rootPath, \".prettierignore\"), `build\\ndist\\n.env\\node_modules`);\n\n      await fs.writeJson(path.join(rootPath, \"tsconfig.json\"), tsConfig, {\n        spaces: 2\n      });\n\n      await fs.writeFile(path.join(rootPath, \"commitlint.config.ts\"), `export default ${JSON.stringify(commitlintConfig, null, 2)}`);\n\n      const templatePathRelative = component.templates?.express?.[response.architecture];\n\n      if (!templatePathRelative) {\n        throw new Error(`Template not found for ${foundation} (express/${response.architecture})`);\n      }\n\n      const templateDir = path.resolve(getTemplatesPath(), templatePathRelative);\n\n      await copyTemplate({\n        templateDir,\n        targetDir: rootPath,\n        componentName: foundation,\n        conflict: \"overwrite\"\n      });\n\n      await installDependencies({\n        runtime: component.dependencies?.runtime,\n        dev: component.dependencies?.dev,\n        cwd: rootPath\n      });\n\n      logger.success(`\\nSuccess! ServerCN initialized with ${foundation}.`);\n      logger.info(\"You may now run:\");\n      logger.log(`1. cd ${response.root}`);\n      logger.log(`2. npm run dev`);\n      return;\n    } catch (error) {\n      logger.error(`Failed to initialize foundation: ${error}`);\n      process.exit(1);\n    }\n  }\n\n  const response = await prompts([\n    {\n      type: \"text\",\n      name: \"root\",\n      message: \"Project root directory\",\n      initial: \".\",\n      format: val => val.trim() || \".\"\n    },\n    {\n      type: \"text\",\n      name: \"srcDir\",\n      message: \"Source directory\",\n      initial: \"src\",\n      format: val => val.trim() || \"src\"\n    },\n    {\n      type: \"select\",\n      name: \"architecture\",\n      message: \"Select architecture\",\n      choices: [\n        { title: \"MVC (controllers, services, models)\", value: \"mvc\" },\n        { title: \"Feature-based (domain-driven modules)\", value: \"feature\" }\n      ]\n    },\n    {\n      type: \"select\",\n      name: \"language\",\n      message: \"Programming language\",\n      choices: [\n        {\n          title: \"TypeScript (recommended)\",\n          value: \"typescript\"\n        }\n      ]\n    },\n    {\n      type: \"select\",\n      name: \"framework\",\n      message: \"Backend framework\",\n      choices: [{ title: \"Express\", value: \"express\" }]\n    },\n    {\n      type: \"select\",\n      name: \"databaseType\",\n      message: \"Select database\",\n      choices: [{ title: \"MongoDB\", value: \"mongodb\" }]\n    },\n    {\n      type: prev => (prev === \"mongodb\" ? \"select\" : null),\n      name: \"orm\",\n      message: \"MongoDB library\",\n      choices: [{ title: \"Mongoose\", value: \"mongoose\" }]\n    },\n    {\n      type: (_prev, values) => ([\"postgresql\", \"mysql\", \"sqlite\"].includes(values.databaseType) ? \"select\" : null),\n      name: \"orm\",\n      message: \"ORM / Query builder\",\n      choices: [\n        { title: \"Prisma\", value: \"prisma\" },\n        { title: \"Drizzle\", value: \"drizzle\" },\n        { title: \"Sequelize\", value: \"sequelize\" },\n        { title: \"Knex\", value: \"knex\" }\n      ]\n    },\n    {\n      type: \"select\",\n      name: \"packageManager\",\n      message: \"Package manager\",\n      choices: [\n        { title: \"npm\", value: \"npm\" },\n        { title: \"pnpm\", value: \"pnpm\" },\n        { title: \"yarn\", value: \"yarn\" }\n      ],\n      initial: 0\n    }\n  ]);\n\n  if (!response.architecture) {\n    logger.warn(\"Initialization cancelled.\");\n    return;\n  }\n\n  const rootPath = path.resolve(cwd, response.root);\n  const srcPath = path.resolve(rootPath, response.srcDir);\n\n  await fs.ensureDir(rootPath);\n  await fs.ensureDir(srcPath);\n\n  const config = {\n    $schema: \"https://servercn.dev/schema/v1.json\",\n    version: \"1.0.0\",\n\n    project: {\n      root: response.root,\n      srcDir: response.srcDir,\n      type: \"backend\",\n      packageManager: response.packageManager\n    },\n\n    stack: {\n      runtime: \"node\",\n      language: response.language,\n      framework: response.framework,\n      architecture: response.architecture\n    },\n\n    database:\n      response.databaseType === \"none\"\n        ? null\n        : {\n            type: response.databaseType,\n            orm: response.orm\n          },\n\n    overrides: {},\n\n    meta: {\n      createdAt: new Date().toISOString(),\n      createdBy: \"servercn@1.0.0\"\n    }\n  };\n\n  const tsConfig = {\n    compilerOptions: {\n      target: \"ES2021\",\n      module: \"es2022\",\n      moduleResolution: \"bundler\",\n      strict: true,\n      esModuleInterop: true,\n      skipLibCheck: true,\n      outDir: \"dist\",\n      rootDir: \"src\"\n    },\n    include: [\"src/**/*\"],\n    exclude: [\"node_modules\"]\n  };\n\n  await fs.writeJson(path.join(rootPath, SERVERCN_CONFIG_FILE), config, {\n    spaces: 2\n  });\n\n  await fs.writeJson(path.join(rootPath, \"tsconfig.json\"), tsConfig, {\n    spaces: 2\n  });\n\n  logger.success(\"\\nSuccess! ServerCN initialized successfully.\");\n\n  logger.info(\"You may now add components by running:\");\n  logger.info(\"- servercn add <component>\\n\");\n}\n","import fs from \"fs-extra\";\nimport path from \"node:path\";\nimport { getRegistryPath } from \"./paths\";\n\nexport async function loadRegistryComponents() {\n  const registryDir = getRegistryPath(\"component\");\n  const files = await fs.readdir(registryDir);\n\n  const components = [];\n\n  for (const file of files) {\n    if (!file.endsWith(\".json\")) continue;\n\n    const fullPath = path.join(registryDir, file);\n    const data = await fs.readJSON(fullPath);\n\n    components.push(data);\n  }\n\n  return components;\n}\n","export function groupByCategory(components: any[]) {\n  return components.reduce<Record<string, any[]>>((acc, c) => {\n    const category = c.type ?? \"uncategorized\";\n    acc[category] ??= [];\n    acc[category].push(c);\n    return acc;\n  }, {});\n}\n","import { loadRegistryComponents } from \"../lib/registry-list\";\nimport { groupByCategory } from \"../lib/group-by-category\";\nimport { logger } from \"../utils/cli-logger\";\n\nexport async function list() {\n  const components = await loadRegistryComponents();\n  if (!components.length) {\n    logger.warn(\"No components found in registry.\");\n    return;\n  }\n\n  const grouped = groupByCategory(components);\n\n  for (const category of Object.keys(grouped).sort()) {\n    logger.info(`\\n${category.toUpperCase()}S`);\n\n    const items = grouped[category].sort((a, b) => a.title.localeCompare(b.title));\n\n    for (const c of items) {\n      logger.log(`  • ${c.title}: ${c.slug}`);\n    }\n  }\n}\n"],"mappings":"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","names":["path","prompts","path","path","fs","path","path","fs","path","fs","path","fs","path","path","fs","fs","path","path","fs","fs","path","path","fs","fs","path","path","fs","prompts","path","fs","path","prompts","path","fs","response","prompts","rootPath","config","tsConfig","fs","path","fs","path"]}