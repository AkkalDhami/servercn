[
  {
    "type": "folder",
    "name": "src",
    "children": [
      {
        "type": "folder",
        "name": "shared",
        "children": [
          {
            "type": "folder",
            "name": "configs",
            "children": [
              {
                "type": "file",
                "name": "env.ts",
                "content": "interface Config {\n  PORT: number;\n  NODE_ENV: string;\n  LOG_LEVEL: string;\n  JWT_ACCESS_SECRET: string;\n  JWT_REFRESH_SECRET: string;\n}\n\nconst env: Config = {\n  PORT: Number(process.env.PORT) || 3000,\n  NODE_ENV: process.env.NODE_ENV || 'development',\n  LOG_LEVEL: process.env.LOG_LEVEL || 'info',\n  JWT_REFRESH_SECRET: process.env.JWT_REFRESH_SECRET!,\n  JWT_ACCESS_SECRET: process.env.JWT_ACCESS_SECRET!\n};\n\nexport default env;\n"
              }
            ]
          },
          {
            "type": "folder",
            "name": "constants",
            "children": [
              {
                "type": "file",
                "name": "status-codes.ts",
                "content": "export const STATUS_CODES = {\n  // 2xx Success\n  OK: 200,\n  CREATED: 201,\n  ACCEPTED: 202,\n  NO_CONTENT: 204,\n\n  // 3xx Redirection\n  MOVED_PERMANENTLY: 301,\n  FOUND: 302,\n  NOT_MODIFIED: 304,\n\n  // 4xx Client Errors\n  BAD_REQUEST: 400,\n  UNAUTHORIZED: 401,\n  FORBIDDEN: 403,\n  NOT_FOUND: 404,\n  CONFLICT: 409,\n  UNPROCESSABLE_ENTITY: 422,\n  TOO_MANY_REQUESTS: 429,\n\n  // 5xx Server Errors\n  INTERNAL_SERVER_ERROR: 500,\n  NOT_IMPLEMENTED: 501,\n  BAD_GATEWAY: 502,\n  SERVICE_UNAVAILABLE: 503,\n  GATEWAY_TIMEOUT: 504\n} as const;\n\nexport type StatusCode = (typeof STATUS_CODES)[keyof typeof STATUS_CODES];\n"
              }
            ]
          },
          {
            "type": "folder",
            "name": "errors",
            "children": [
              {
                "type": "file",
                "name": "api-error.ts",
                "content": "import { STATUS_CODES, StatusCode } from \"../constants/status-codes\";\n\nexport class ApiError extends Error {\n  public readonly statusCode: StatusCode;\n  public readonly isOperational: boolean;\n  public readonly errors?: unknown;\n\n  constructor(\n    statusCode: StatusCode,\n    message: string,\n    errors?: unknown,\n    isOperational = true\n  ) {\n    super(message);\n    this.name = \"ApiError\";\n    this.statusCode = statusCode;\n    this.errors = errors;\n    this.isOperational = isOperational;\n\n    Error.captureStackTrace(this, this.constructor);\n  }\n\n  static badRequest(message = \"Bad Request\", errors?: unknown) {\n    return new ApiError(STATUS_CODES.BAD_REQUEST, message, errors);\n  }\n\n  static unauthorized(message = \"Unauthorized\") {\n    return new ApiError(STATUS_CODES.UNAUTHORIZED, message);\n  }\n\n  static forbidden(message = \"Forbidden\") {\n    return new ApiError(STATUS_CODES.FORBIDDEN, message);\n  }\n\n  static notFound(message = \"Not Found\") {\n    return new ApiError(STATUS_CODES.NOT_FOUND, message);\n  }\n\n  static conflict(message = \"Conflict\") {\n    return new ApiError(STATUS_CODES.CONFLICT, message);\n  }\n\n  static server(message = \"Internal Server Error\") {\n    return new ApiError(STATUS_CODES.INTERNAL_SERVER_ERROR, message);\n  }\n}\n"
              }
            ]
          },
          {
            "type": "folder",
            "name": "utils",
            "children": [
              {
                "type": "file",
                "name": "api-response.ts",
                "content": "import { STATUS_CODES, StatusCode } from \"../constants/status-codes\";\nimport type { Response } from \"express\";\n\nexport class ApiResponse<T = unknown> {\n  constructor(\n    private readonly payload: {\n      success: boolean;\n      message: string;\n      statusCode: StatusCode;\n      data?: T | null;\n      errors?: unknown;\n    }\n  ) {}\n\n  send(res: Response): Response {\n    return res.status(this.payload.statusCode).json(this.payload);\n  }\n\n  static ok<T>(res: Response, message = \"OK\", data?: T) {\n    return new ApiResponse<T>({\n      success: true,\n      message,\n      data,\n      statusCode: STATUS_CODES.OK\n    }).send(res);\n  }\n}\n"
              }
            ]
          }
        ]
      }
    ]
  }
]
