---
title: Lint-Staged
description: A robust Lint-Staged configuration for TypeScript and Express.js projects.
command: npx servercn-cli add tooling lint-staged
---

# Lint-Staged

Lint-Staged runs linters only on staged Git files, ensuring that bad code never makes it into your repository—without slowing down your workflow.

[Lint-Staged Official Docs](https://github.com/lint-staged/lint-staged)

## Installation

Install Lint-Staged using the ServerCN CLI:

<PackageManagerTabs command="npx servercn-cli add tooling lint-staged" />

## Configuration

The ServerCN setup automatically adds a <Code children="lint-staged" />  configuration to your <Code children="package.json" /> or generates a dedicated <Code children=".lintstagedrc.json" /> file.

You can customize this configuration to match your project’s structure and tooling.

#### Basic Example (TypeScript)
<Code children="package.json" />

```json {4-12}
{
  "scripts": {...},

  "lint-staged": {
    "*.{js,jsx,ts,tsx}": [
      "eslint --fix",
      "prettier --write"
    ],
    "*.json": [
      "prettier --write"
    ]
  },

  "dependencies":{...},
  "devDependencies":{...}
}
```
#### Express + TypeScript Example
<Code children="package.json" />

```json 
{
  "lint-staged":{
    "src/**/*.{ts,tsx}": [
      "eslint --fix",
      "prettier --write"
    ],
    "src/**/*.json": [
      "prettier --write"
    ]
  }
}
```

#### With Type Checking (Strict)e
<Code children="package.json" />

```json
{
  "lint-staged":{
    "src/**/*.ts": [
      "eslint --fix",
      "prettier --write",
      "tsc --noEmit"
    ]
  }
}
```
_**⚠️ Use this with caution on large projects, as type checking may slow down commits.**_

## Using a Separate Config File

Instead of <Code children="package.json" />, you can define your rules in <Code children=".lintstagedrc.json" />:

<Code children=".lintstagedrc.json" />

```json
{
  "*.{js,ts}": [ "eslint --fix", "prettier --write" ],
  "*.{json,md,yml}": "prettier --write"
}
```

## How It Works

1. You stage your changes with <Code>git add</Code>.
2. You run <Code>git commit</Code>.
3. Husky triggers the <Code>pre-commit</Code> hook.
4. <Code>lint-staged</Code> runs defined commands only on the files that are about to be committed.
5. If everything passes, the commit is successful.

## Features

- **Efficiency**: Only runs linting on changed files, not the whole project.
- **Auto-fix**: Can automatically fix formatting issues before committing.
- **Speed**: significantly faster than running a full lint check on every commit.


## Add More Tooling

<PackageManagerTabs command="npx servercn-cli add tooling commitlint husky eslint prettier lint-staged typescript " />